import{t as E,a as x}from"../chunks/C7woXQ8K.js";import"../chunks/BM141WsH.js";import{h as q,G as W,L as X,N as Z,I as ee,o as re,J as ae,F as v,k as te,A as L,w as l,C as i,D as o,K as m,M as d,O as se}from"../chunks/B0dVykGr.js";import{a as le,l as ie,e as oe,s as M}from"../chunks/CDvePjwI.js";import{i as F}from"../chunks/BnkYPV-f.js";const ne=Symbol("is custom element"),ve=Symbol("is html");function b(e){if(q){var r=!1,s=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var f=e.value;J(e,"value",null),e.value=f}if(e.hasAttribute("checked")){var t=e.checked;J(e,"checked",null),e.checked=t}}};e.__on_r=s,W(s),le()}}function J(e,r,s,f){var t=ce(e);q&&(t[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||t[r]!==(t[r]=s)&&(r==="loading"&&(e[X]=s),e.removeAttribute(r))}function ce(e){return e.__attributes??(e.__attributes={[ne]:e.nodeName.includes("-"),[ve]:e.namespaceURI===Z})}function p(e,r,s=r){var f=ee();ie(e,"input",t=>{var n=t?e.defaultValue:e.value;if(n=N(e)?T(n):n,s(n),f&&n!==(n=r())){var u=e.selectionStart,_=e.selectionEnd;e.value=n??"",_!==null&&(e.selectionStart=u,e.selectionEnd=Math.min(_,e.value.length))}}),(q&&e.defaultValue!==e.value||re(r)==null&&e.value)&&s(N(e)?T(e.value):e.value),ae(()=>{var t=r();N(e)&&t===T(e.value)||e.type==="date"&&!t&&!e.value||t!==e.value&&(e.value=t??"")})}function N(e){var r=e.type;return r==="number"||r==="range"}function T(e){return e===""?null:+e}function de(e){return function(...r){var s=r[0];return s.preventDefault(),e==null?void 0:e.apply(this,r)}}var fe=E('<div class="alert alert-success mt-4 text-center"> </div>'),ue=E('<div class="alert alert-danger mt-4 text-center"> </div>'),_e=E('<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"> <div class="container py-5"><div class="row justify-content-center"><div class="col-md-6"><div class="card shadow"><div class="card-body"><h3 class="card-title mb-4 text-center">Lawinenrisiko Vorhersage</h3> <form><div class="mb-3"><label for="hoehe" class="form-label">Höhendifferenz (m)</label> <input id="hoehe" type="number" required class="form-control"></div> <div class="mb-3"><label for="route" class="form-label">Routenlänge (m)</label> <input id="route" type="number" required class="form-control"></div> <div class="mb-3"><label for="schnee" class="form-label">Schnee (cm)</label> <input id="schnee" type="number" required class="form-control"></div> <div class="mb-3"><label for="gipfel" class="form-label">Gipfelhöhe (m)</label> <input id="gipfel" type="number" required class="form-control"></div> <button type="submit" class="btn btn-primary w-100"> </button></form> <!> <!></div></div></div></div></div>',1);function ge(e){let r=m(1e3),s=m(2e3),f=m(200),t=m(3e3),n=m(null),u=m(null),_=m(!1);async function K(){d(_,!0),d(u,null),d(n,null);try{const c=await(await fetch("/api/predict",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Höhendifferenz:l(r),Routenlänge:l(s),Schnee:l(f),Gipfelhöhe:l(t)})})).json();c.error?d(u,c.error):d(n,c.lawinenrisiko)}catch{d(u,"Server nicht erreichbar oder ungültige Antwort.")}finally{d(_,!1)}}var I=_e(),O=v(te(I),2),R=i(O),V=i(R),j=i(V),C=i(j),h=v(i(C),2),y=i(h),D=v(i(y),2);b(D),o(y);var g=v(y,2),G=v(i(g),2);b(G),o(g);var k=v(g,2),H=v(i(k),2);b(H),o(k);var S=v(k,2),z=v(i(S),2);b(z),o(S);var w=v(S,2),P=i(w,!0);o(w),o(h);var B=v(h,2);{var U=a=>{var c=fe(),A=i(c);o(c),L(Q=>M(A,`Vorhergesagtes Risiko: ${Q??""}`),[()=>l(n).toFixed(2)],se),x(a,c)};F(B,a=>{l(n)!==null&&a(U)})}var Y=v(B,2);{var $=a=>{var c=ue(),A=i(c,!0);o(c),L(()=>M(A,l(u))),x(a,c)};F(Y,a=>{l(u)&&a($)})}o(C),o(j),o(V),o(R),o(O),L(()=>{w.disabled=l(_),M(P,l(_)?"Berechne...":"Vorhersagen")}),p(D,()=>l(r),a=>d(r,a)),p(G,()=>l(s),a=>d(s,a)),p(H,()=>l(f),a=>d(f,a)),p(z,()=>l(t),a=>d(t,a)),oe("submit",h,de(K)),x(e,I)}export{ge as component};
